package Editora;

import java.sql.Date;

import javax.swing.JOptionPane;

public class Sistema {

	private static Editora editora = new Editora ();
	private static Lista listaCliente = new Lista ();
	private static Lista listaPublic = new Lista ();
	private static Lista listaAssinat = new Lista ();
	private static Lista listaEtiqueta = new Lista ();
	
	private static int[] opcao = new int[2];
	private static int[] limite = {3, 2};
	private static String[] listaOpcoes = {"Publicação", "Cliente", "Assinatura"};
	private static String[] mensagOpcao = new String[2];
	
	
	public static void main(String[] args) {
		editora.setNome ("SN Publicações");
		editora.setCnpj("2014.262.885-55");
		editora.setEndereco("Av. Ubatuba, 724 - Caxias, RN");
		
		mensagOpcao[0] = "Digite a categoria desejada\n"
						+ "1." + listaOpcoes[0] + "\n"
						+ "2." + listaOpcoes[1] + "\n"
						+ "3." + listaOpcoes[2] + "\n"
						+ "0.Sair";
		
		mensagOpcao[1] = "Digite a opção desejada\n"
						+ "1.Inserir\n"
						+ "2.Visualizar\n"
						+ "0.Voltar";
		
		
		System.out.println("Sistema iniciado\n" + editora);
		
		verificaOpcao (0);
		
		while (opcao[0] != 0) {
			if (opcao[0] == 1) {
				verificaOpcao (1);
				
				if (opcao[1] == 1) {
					inserePublic ();
				} else if (opcao[1] == 2) {
					if (listaPublic.item != null) {
						System.out.println(listaPublic.item);
						Lista aux = listaPublic.proximo;
						while (aux != null) {
							System.out.println(listaPublic.item);
							aux = aux.proximo;
						} 
					} else {
						System.out.println("Não há publicação inserida");
					}
				}
				
			}
			
			verificaOpcao (0);
		}
		
	
		
	}
	
	public static void verificaOpcao (int indice) {
		String entrada = JOptionPane.showInputDialog(mensagOpcao[indice]);
		
		opcao[indice] = Integer.parseInt(entrada);
		
		if (opcao[indice] < 0 || opcao[indice] > limite[indice]) {
			opcao[indice] = 0;
		}
	}
	
	public static void inserePublic () {
		Publicacao publicacao = new Publicacao ();
		publicacao.setNome();
		publicacao.setPeriodic();
		publicacao.setEdicaoAtual();
		publicacao.setUltimaPub();
		
		listaPublic.insereItem(publicacao);
	}

}
